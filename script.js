const recipes = [
  {
    title: "Chocolate Chip Cake",
    image: "images/Chocolate Chip Cake.jpg",
    ingredients: [
      "1 cup flour",
      "1/2 cup sugar",
      "1 tsp baking powder",
      "1/2 cup milk",
      "1 egg",
      "1/2 cup chocolate chips"
    ],
    steps: [
      "Preheat oven to 180°C (350°F).",
      "In a bowl, mix flour, sugar, and baking powder.",
      "Add milk and egg, mix until smooth.",
      "Fold in chocolate chips.",
      "Pour batter into a greased cake pan.",
      "Bake for 25-30 minutes or until a toothpick comes out clean."
    ]
  },
   {
    title: "Vanilla Cupcakes",
    image: "images/Vanilla cupcakes.jpg",
    ingredients: [
      "1 1/2 cups of flour.",
      "1 cup of sugar.",
      "1/2 cup of butter.",
      "2 eggs.",
      "1/2 cup of milk.",
      "2 tsp of baking powder",
      "1 tsp of vanilla extract"
    ],
    steps: [
      "Preheat oven to 180°C (350°F). Line cupcake tray.",
      "Cream butter and sugar until fluffy.",
      "Add eggs one at a time, mixing well.",
      "Mix in milk and vanilla extract.",
      "Sift in flour and add baking powder,mix until combined.",
      "Pour batter into cupcake liners.",
      "Bake for 18-20 minutes or until a toothpick comes out clean."
    ]
  },
  {
    title: "Red Velvet Cake",
    image: "images/Red Velvet Dream Cake.jpg",
    ingredients: [
      "2 1/2 cups of all-purpose flour.",
      "1 1/2 cups of sugar.",
      "1 cup of vegetable oil.",
      "1 cup of buttermilk.",
      "2 large eggs.",
      "2 tbsp of cocoa powder.",
      "1 tsp of baking soda.",
      "1 tsp white vinegar.",
      "red food coloring",
    ],
    steps: [
      "Preheat oven to 350°F (175°C). Grease and flour two 9-inch round cake pans.",
      "In a large bowl, mix flour, sugar, cocoa powder, baking soda, and salt.",
      "In another bowl, whisk together oil, butter milk, eggs.",
      "Add the wet ingredients to the dry ingredients and mix until combined.",
      "Add red food coloring and mix until the desired color is achieved.",
      "Divide the batter evenly between the prepared pans.",
      "Bake for 25-30 minutes. Check with a toothpick for doneness.",
    ]
  },
   {
    title: "Carrot Cake",
    image: "images/Best Carrot Cake Ever.jpg",
    ingredients: [
      "2 cups of grated carrots",
      '1 1/2 cup of sugar',
      "2 cups of flour",
      "3/4 cup of vegetable oil",
      "3 eggs",
      "1 tsp of baking soda",
      "2 tsp cinnamon",
      "1/2 cups of chopped walnuts(optional)",
    ],
    steps: [
      "Mix dry inredients.",
      "Whisk oil and eggs together.",
      "Combine wet and dry ingredientes.",
      "Fold in grated carrots and nuts.",
      "Pour into a greased cake pan.",
      "Bake at 18o°C (350°F) for 30-35 minutes."
    ]
  },
   {
    title: "Lemon Pound Cake",
    image: "images/Lemon pound cake.jpg",
    ingredients: [
      '1 1/2 cups of flour.',
      "1 Cup sugar.",
      "1 tsp baking powder.",
      "1/2 cup butter.",
      "3 eggs.",
      "2 tbsp lemon juice.",
      "zset of 1 lemon.",
    ],
    steps: [
     "Cream butter and sugar.",
     "Add eggs one by one.",
     "Mix in flour and baking powder.",
     "Add emon juice and zest.",
     "Bake for 170°C (340°F) for 45-50 minutes.",
    ]
  },
   {
    title: "Chocolate Fudge Brownies",
    image: "images/Chocolate fudge brownie.jpg",
    ingredients: [
      "1 cup sugar",
      "1/2 cup cocoa powder",
      "1/2 cup butter",
      "2 eggs",
      "1/3 cup flour",
      "1 tp vanilla",
    ],
    steps: [
      "Melt butter and mix with cocoa powder and sugar.",
      "Add eggs and vanilla.",
      "Stir in flour.",
      "Pour into pan.",
      "Bake at 175°C (350°F) for 25 minutes.",
    ]
  },
   {
    title: "Blueberry Muffins",
    image: "images/Blueberry muffins.jpg",
    ingredients: [
      "1 1/2 cups of flour",
      "3/4 cup of sugar",
      "2 tsp of baking powder",
      "1/2 cup of milk",
      "1/2 cup of oil",
      "1 egg",
      "1 cup blueberries"
    ],
    steps: [
     "Mix dry ingredients.",
     "In another bowl, mix wet ingredients.",
     "Combine both.",
     "Bake at 190°C for 20-25 mins.",
    ]
  },
   {
    title: "Banana Bread",
    image: "images/Banana bread.jpg",
    ingredients: [
      "2 ripe bananas",
      "1 1/2 cup of flour",
      "1/2 cup of sugar",
      "1 egg",
      "1/2 cup butter",
      "1 tsp baking soda",
    ],
    steps: [
      "Mash bananas.",
      "Mix with sugar, butter and egg.",
      "Stir in flour and baking soda.",
      "Pour into a greased loaf pan.",
      "Bake for 175°C (350°F) for 50-60 minutes.",
    ]
  },
   {
    title: "Apple Pie",
    image: "images/Apple pie.jpg",
    ingredients: [
     "2 pie crusts",
     "5 apples(sliced)",
     "1/2 cup sugar",
     "2 tbsp flour",
     "1 tsp cinamon",
     "1 tbsp lemon juice"
    ],
    steps: [
     "Mix apples with sugar, flour, cinamon and lemon",
     "Place one crust in a pie pan,",
     "Add apple filling.",
     "Cover with top crust, seal crust.",
     "Bake at 200°C (400°F) for 45 minutes."
    ]
  },
   {
    title: "Chocolate Chip Cookies",
    image: "images/Chocolate chip cookies.jpg",
    ingredients: [
     "1 cup of flour",
     "1/2 cup of sugar",
     "1/2 cup of butter",
     "1 egg",
     "1/2 tsp baking soda",
     "1/2 cup chocolate chips"
    ],
    steps: [
     "Cream butter and sugar.",
     "Add egg",
     "Mix in flour and baking soda.",
     "Fold in chocolate chips.",
     "Drop spoonfuls onto a baking sheet.",
     "Bake at 180°C (350°F) for 10-12 minutes."
    ]
  },
   {
    title: "Oatmeal Raisin Cookies",
    image: "images/Oatmeal raisin cookies.jpg",
    ingredients: [
     "1 cup of oats",
     "1/4 cup of flour",
     "1/2 cup of sugar",
     "1 egg",
     "1/2 cup of butter",
     "1/2 cup of raisins",
     "1 tsp cinamon"
    ],
    steps: [
     "Cream butter and sugar.",
     "Add egg and mix well.",
     "Stir in flour, oats and cinamon.",
     "Fold in raisins.",
     "Drop spoonfuls onto a baking sheet.",
     "Bake at 180°C (350°F) for 12-15 minutes."
    ]
  },
   {
    title: "Peanut Butter Cookies",
    image: "images/Peanut butter cookies.jpg",
    ingredients: [
     "1 cup of peanut butter",
     "1/2 cup of sugar",
     "1 egg",
     "1 tsp vanilla extract"
    ],
    steps: [
     "Mix all ingredirnts together.",
     "Roll into balls and flatten with a fork.",
     "Place on a baking sheet.",
     "Bake at 180°C (350°F) for 10-12 minutes."
    ]
  },
   {
    title: "Snickerdoodles",
    image: "images/Snickerdoodles.jpg",
    ingredients: [
    "1 1/2 cup of flour",
    "1/2 cup of sugar",
    "1/2 cup of butter",
    "1 egg",
    "1/2 tsp baking soda",
    "1 tsp cinnamon + sugar mixture for rolling",
    ],
    steps: [
    "Cream butter and sugar.",
    "Add egg.",
    "Mix in flour and baking soda.",
    "Roll dough into balls and coat in cinnamon sugar.",
    "Place on a baking sheet.",
    "Bake at 180°C (350°F) for 10-12 minutes."
    ]
  },
   {
    title: "Brownie Blondies",
    image: "images/Brownie Blondies.jpg",
    ingredients: [
    "1 cup of flour",
    "1/2 cup of butter",
    "3/4 cup of brown sugar",
    "1 egg",
    "1/2 cup of white chocolate chips",
    ],
    steps: [
    "Cream butter and sugar.",
    "Add egg, then flour.",
    "Fold in white chocolate chips.",
    "Pour into a greased baking pan.",
    "Bake at 180°C (350°F) for 20-25 minutes."
    ]
  },
   {
    title: "Double Chcolate Cookies",
    image: "images/Double chocolate cookies.jpg",
    ingredients: [
     "1 cup of flour",
     "1/2 cup of cocoa powder",
     "1/2 cup of sugar",
     "1 egg",
     "1/2 cup of butter",
     "1/2 cup of chocolate chips",
    ],
    steps: [
     "Cream butter and sugar.",
     "Add egg, cocoa, and flour.",
     "Stir in chocolate chips",
     "Drop spoonfuls onto a baking sheet.",
     "Bake at 180°C (350°F) for 10-12 minutes."
    ]
  },
   {
    title: "Sugar Cookies with Icing",
    image: "images/Sugar cookies.jpg",
    ingredients: [
     "2 cups of flour",
     "3/4 cup of sugar",
     "1/2 cup of butter",
     "1 egg",
     "1 tsp vanilla extract"
    ],
    steps: [
     "Cream butter and sugar.",
     "Add egg and vanilla extract.",
     "Stir in flour.",
     "Roll, cut and bake at 180°C (350°F) for 10 minutes.",
     "Decorate with icing after cooling."
    ]
  },
   {
    title: "Shortbread Cookies",
    image: "images/shortbread Cookies.jpg",
    ingredients: [
     "1 cup of flour",
     "1/2 cup of butter",
     "1/3 cup of powdered sugar"
    ],
    steps: [
     "Mix all ingredients until dough forms.",
     "Roll and cut shapes.",
     "Bake at 170°C (340°F) for 15-20 minutes.",
    ]
  },
   {
    title: "Biscotti(Almond or Chocolate)",
    image: "images/Biscotti.jpg",
    ingredients: [
      "1 1/2 cups of flour",
      "1/2 cup of sugar",
      "2 eggs",
      "1 tsp baking powder",
      "1/2 cup of almonds or chocolate chips"
    ],
    steps: [
     "Mix all ingredients together.",
     "Form a log shape and bake at 180°C (350°F) for 20 minutes.",
     "Slice and bake again for 10-15 minutes until crisp."
    ]
  },
   {
    title: "Brookies",
    image: "images/Brookies.jpg",
    ingredients: [
     "Half brownie batter, half cookie dough",
    ],
    steps: [
     "Layer brownie batter in pan.",
     "Drop cookie dough on top.",
     "Bake at 175°C (350°F) for 30 minutes."
    ]
  },
   {
    title: "Funfetti Cupcakes",
    image: "images/Funfetti Cupcakes.jpg",
    ingredients: [
     "1 1/2 cups of flour",
     "3/4 cup of sugar",
     "2 eggs",
     "1/2 cup of butter",
     "1 tsp vanilla extract",
     "1/4 cup of sprinkles"
    ],
    steps: [
     "Mix butter, sugar, and eggs until creamy.",
     "Add flour and vanilla extract.",
     "Stir in sprinkles.",
     "Pour into xupcake liners.",
     "Bake at 180°C (350°F) for 18-20 minutes."
    ]
  },
   {
    title: "Coconut Layer Cake",
    image: "images/Coconut layer cake.jpg",
    ingredients: [
     "2 cups of flour",
     "1 1/2 cups of sugar",
     "1 cup of coconut milk",
     "2 eggs",
     "1/2 cup of shredded coconut"
    ],
    steps: [
     "Mix sugar, eggs, and coconut milk until smooth.",
     "Add flour and coconut.",
     "Pour into a greased cake pan.",
     "Bake at 175°C (350°F) for 30 minutes."
    ]
  },
   {
    title: "Marble Cake",
    image: "images/Marble cake.jpg",
    ingredients: [
     "2 cups of flour",
     "1 1/2 cups of sugar",
     "1/2 cup of butter",
     "3 eggs",
     "1 cup of milk",
     "1/4 cup of cocoa powder"
    ],
    steps: [
     "Prepare vanilla batter",
     "Divide and add cocoa to half.",
     "Pour both into pan and swirl.",
     "Bake at 180°C (350°F) for 40 minutes."
    ]
  },
   {
    title: "Chocolate Banana Muffins",
    image: "images/Chocolate banana muffin.jpg",
    ingredients: [
     "2 ripe bananas",
     "1 cup of flour",
     "1/4 cup of cocoa ",
     "1/2 cup of sugar",
     "1 egg",
     "1/3 cup of vegetable oil"
    ],
    steps: [
     "Mash bananas.",
     "Mix all ingredients until smooth.",
     "Pour into muffin tins.",
     "Bake at 180°C (350°F) for 20 minutes."
    ]
  },
   {
    title: "Apple Cinnamon Muffins",
    image: "images/Apple Cinnamon Muffins.jpg",
    ingredients: [
     "1 1/2 cups of flour",
     "1/2 cup of sugar",
     "1 egg",
     "1 tsp cinnamon",
     "1 apple (diced)",
     "1/2 cup of milk"
    ],
    steps: [
     "Mix dry and wet ingredients separately.",
     "Combine and fold in diced apple.",
     "Pour into muffin tins.",
     "Bake at 180°C (350°F) for 20-25 minutes."
    ]
  },
   {
    title: "Pumpkin Muffins",
    image: "images/Pumpkin Muffins.jpg",
    ingredients: [
     "1 cup of pumpkin puree",
     "1 1/2 cups of flour",
     "1/2 cup of sugar",
     "2 eggs",
     "1 tsp of cinnamon"
    ],
    steps: [
     "Mix wet and dry ingredients seperately.",
     "Combine and pour into muffin tins.",
     "Bake at 180°C (350°F) for 20-22 minutes."
    ]
  },
   {
    title: "Strawberry Cream Cheese Muffins",
    image: "images/Strawberry Cream Cheese Muffins.jpg",
    ingredients: [
     "1 1/2 cups of flour",
     "1/2 cup of sugar",
     "1 egg",
     "1/2 cup of diced strawberries",
     "1/4 cup cream cheese"
    ],
    steps: [
     "Mix batter",
     "Fold in strawberries and cream cheese.",
     "Pour into muffin tins.",
     "Bake at 180°C (350°F) for 20 minutes."
    ]
  },
   {
    title: "Zucchini Bread",
    image: "images/Zucchini bread.jpg",
    ingredients: [
     "2 cups of grated zucchini",
     "2 cups of flour",
     "3/4 cup of sugar",
     "2 eggs",
     "1/2 cup of vegetable oil"
    ],
    steps: [
     "Mix dry ingredients.",
     "Add egg, oil and zucchini",
     "Pour into a greased loof pan.",
     "Bake at 175°C for 50 minutes."
    ]
  },
     {
    title: "Caramel Apple Cake",
    image: "images/Caramel Apple Cake .jpg",
    ingredients: [
     "1 1/2 cups of flour",
     "1 apple (diced)",
     "1/2 cup of caramel sauce",
     "1/2 cup of sugar",
     "1/2 cup of butter",
     "2 eggs"
    ],
    steps: [
     "Mix ingredients until smooth.",
     "Pour into a greased cake pan.",
     "Drizzle with caramel sauce.",
     "Bake at 175°C (350°F) for 45 minutes."
    ]
  },
   {
    title: "Cinnamon Swirl Bread",
    image: "images/Cinnamon Swirl Bread.jpg",
    ingredients: [
     "2 cups of flour",
     "3/4 cup of sugar",
     "1 egg",
     "1 tspcinnamon",
     "1/2 cup of butter",
     "1/2 cup of milk"
    ],
    steps: [
     "Mix batter.",
     "Layer with cinnamon sugar.",
     "Pour into a greased loaf pan.",
     "Bake at 175°C (350°F) for 40-45 minutes."
    ]
  },
   {
    title: "Strawberry Jam Bars",
    image: "images/Strawberry Jam Bars.jpg",
    ingredients: [
     "1 1/2 cups flour",
     "1/2 cup butter",
     "1/2 cup sugar",
     "1/2 cup strawberry jam"
    ],
    steps: [
     "Mix flour, suger, butter into crumbs.",
     "Press 3/4 into a baking dish",
     "Spread jam on top.",
     "Crumble remaing dough on top.",
     "Bake at 180°C (350°F) for 25-30 minutes."
    ]
  },
   {
    title: "Banana Pancakes",
    image: "images/Banana pancakes.jpg",
    ingredients: [
      "2 ripe bananas",
      "2 eggs",
      "1/2 tsp vanilla extract",
      "1/4 tsp cinnamon"
    ],
    steps: [
      "Mash bananas in a bowl.",
      "Add eggs, vanilla extract, and cinnamon, mix well.",
      "Heat a non-stick skillet over medium heat.",
      "Pour batter onto skillet, cook until bubbles form, then flip.",
      "Cook until golden brown on both sides."
    ]
  }
];

const carouselGallery = document.getElementById('carouselGallery');
const recipeGallery = document.getElementById('recipeGallery');

function createCard(recipe) {
  const div = document.createElement('div');
  div.className = 'recipe-card';
  div.innerHTML = `<img src="${recipe.image}" alt="${recipe.title}"><h3>${recipe.title}</h3>`;
  div.onclick = () => showRecipePopup(recipe);
  return div;
}

// Populate sections
recipes.slice(0, 5).forEach(r => carouselGallery.appendChild(createCard(r)));
recipes.forEach(r => recipeGallery.appendChild(createCard(r)));

// Search functionality
document.getElementById('searchBar').addEventListener('input', function () {
  const term = this.value.toLowerCase().trim();
  const featuredSlider = document.querySelector('.featured-slider');
  const carouselSection = document.querySelector('.carousel-layout');
  const recipeGallery = document.getElementById('recipeGallery');

  if (term === '') {
    // Restore full layout when search is empty
    featuredSlider.style.display = 'block';
    carouselSection.style.display = 'flex';
    recipeGallery.innerHTML = '';
    recipes.forEach(r => recipeGallery.appendChild(createCard(r)));
    return;
  }

  // Hide Featured & Popular sections during search
  featuredSlider.style.display = 'none';
  carouselSection.style.display = 'none';

  // Filter recipes and display matches
  const filtered = recipes.filter(r => r.title.toLowerCase().includes(term));

  recipeGallery.innerHTML = '';
  if (filtered.length > 0) {
    filtered.forEach(r => recipeGallery.appendChild(createCard(r)));
  } else {
    recipeGallery.innerHTML = '<p>No recipes found.</p>';
  }
});

// Popup
function showRecipePopup(recipe) {
  const overlay = document.createElement('div');
  overlay.className = 'recipe-popup-overlay';
  overlay.innerHTML = `
    <div class="recipe-popup">
      <button class="close-btn" onclick="this.closest('.recipe-popup-overlay').remove()">✖</button>
      <h2>${recipe.title}</h2>
      <h3>Ingredients</h3>
      <ul>${recipe.ingredients.map(i => `<li>✅ ${i}</li>`).join('')}</ul>
      <h3>Steps</h3>
      <ol>${recipe.steps.map(s => `<li>${s}</li>`).join('')}</ol>
    </div>
  `;
  document.body.appendChild(overlay);
}

/* Slider Logic */
let currentIndex = 0;
const slides = document.querySelectorAll('.slide');

function showSlide(index) {
  slides.forEach((slide, i) => {
    slide.classList.remove('active');
    if (i === index) {
      slide.classList.add('active');
    }
  });
}

function nextSlide() {
  currentIndex = (currentIndex + 1) % slides.length;
  showSlide(currentIndex);
}

function prevSlide() {
  currentIndex = (currentIndex - 1 + slides.length) % slides.length;
  showSlide(currentIndex);
}

// Initialize first slide
showSlide(currentIndex);

// Auto-slide every 5 seconds
setInterval(nextSlide, 5000);
